2025-08-28T18:01:27.685411Z INFO     vrl_testing_loop_clean:_setup_logging:152 - VRL Testing Pipeline logging initialized
2025-08-28T18:01:27.685622Z INFO     vrl_testing_loop_clean:_setup_logging:153 - Log file: logs/vrl_pipeline_20250828_180127.log
2025-08-28T18:01:27.685733Z INFO     vrl_testing_loop_clean:_setup_logging:154 - Sample file: samples/large/apache-real.ndjson
2025-08-28T18:01:27.685815Z INFO     vrl_testing_loop_clean:_setup_logging:155 - Output directory: samples-parsed
2025-08-28T18:01:27.685904Z INFO     vrl_testing_loop_clean:_setup_logging:156 - External configs: external
2025-08-28T18:01:27.686010Z INFO     vrl_testing_loop_clean:_setup_logging:157 - Loaded configs: ['vector_vrl_prompt', 'parser_prompts', 'type_maps']
2025-08-28T18:01:28.902972Z INFO     vrl_testing_loop_clean:__init__:113 - Benchmarking local CPU performance...
2025-08-28T18:01:28.910285Z INFO     vrl_testing_loop_clean:__init__:115 - CPU benchmark multiplier: 10.00x
2025-08-28T18:01:28.910377Z INFO     vrl_testing_loop_clean:__init__:118 - Measuring Vector CLI startup time...
2025-08-28T18:01:29.415893Z INFO     vrl_testing_loop_clean:__init__:120 - Vector startup time: 0.50s
2025-08-28T18:01:29.416333Z INFO     vrl_testing_loop_clean:_log_external_configs_summary:1067 - üìã EXTERNAL CONFIGS SUMMARY (K8s deployed):
2025-08-28T18:01:29.416558Z INFO     vrl_testing_loop_clean:_log_external_configs_summary:1074 -    üéØ vector-vrl-system.md: v1.3.0...
2025-08-28T18:01:29.416716Z INFO     vrl_testing_loop_clean:_log_external_configs_summary:1075 -       Contains: Performance tiers, string ops, Vector 0.49.0 config
2025-08-28T18:01:29.418996Z INFO     vrl_testing_loop_clean:_log_external_configs_summary:1079 -    üîß parser-system-prompts.md: 10690 chars of project overrides
2025-08-28T18:01:29.419076Z INFO     vrl_testing_loop_clean:_log_external_configs_summary:1085 -    üìä type_maps.csv: 24 field mappings for product evolution
2025-08-28T18:01:29.419124Z INFO     vrl_testing_loop_clean:_log_external_configs_summary:1087 -    üí° These configs are retained for persistent LLM context
2025-08-28T18:01:29.419184Z INFO     __main__:main:48 - Starting automated VRL generation with optimizations...
2025-08-28T18:01:29.419222Z INFO     __main__:main:49 - Provider: Anthropic
2025-08-28T18:01:29.419255Z INFO     __main__:main:50 - Max iterations: 2
2025-08-28T18:01:29.419288Z INFO     __main__:main:51 - 
2025-08-28T18:01:30.532669Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1201 - ü§ñ Starting automated LLM VRL generation
2025-08-28T18:01:30.532983Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1202 - Provider: anthropic, Max iterations: 2
2025-08-28T18:01:30.544435Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1210 - üîß Optimizing samples with pre-tokenizer...
2025-08-28T18:01:30.578834Z INFO     pre_tokenizer.enhanced_optimizer:smart_sample_selection:132 - Found 1 distinct patterns in 56482 samples
2025-08-28T18:01:30.883597Z SUCCESS  pre_tokenizer.enhanced_optimizer:smart_sample_selection:172 - Selected 3 samples covering 1 patterns
2025-08-28T18:01:31.032549Z INFO     pre_tokenizer.pre_tokenizer:__init__:41 - Initialized PreTokenizer for claude-3-opus-20240229 with 30,000 max tokens
2025-08-28T18:01:31.033018Z INFO     pre_tokenizer.pre_tokenizer:optimize_samples:101 - Optimizing 3 samples for 30,000 tokens
2025-08-28T18:01:31.033626Z INFO     pre_tokenizer.pre_tokenizer:optimize_samples:116 - Reduced to 3 unique samples from 3
2025-08-28T18:01:31.033792Z INFO     pre_tokenizer.pre_tokenizer:optimize_samples:117 - Pattern distribution: {'error': 2}
2025-08-28T18:01:31.035620Z SUCCESS  pre_tokenizer.pre_tokenizer:optimize_samples:190 - Selected 3 samples using 1,778 tokens
2025-08-28T18:01:31.035774Z INFO     pre_tokenizer.pre_tokenizer:optimize_samples:191 - Pattern coverage: 100.0%
2025-08-28T18:01:31.035899Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1241 - üìä Sample optimization: 56482 ‚Üí 3 samples
2025-08-28T18:01:31.036069Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1242 - üìä Token usage: 1,778 tokens
2025-08-28T18:01:31.036220Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1243 - üìä Pattern coverage: 100.0%
2025-08-28T18:01:31.068205Z INFO     llm_iterative_session:_init_anthropic:433 - üîç Auto-detecting latest Anthropic model...
2025-08-28T18:01:31.068564Z INFO     llm_iterative_session:_detect_best_anthropic_model:140 - üîç Querying Anthropic API for available models...
2025-08-28T18:01:31.398207Z INFO     llm_iterative_session:_detect_best_anthropic_model:166 - Available Anthropic models: ['claude-opus-4-1-20250805', 'claude-opus-4-20250514', 'claude-sonnet-4-20250514', 'claude-3-7-sonnet-20250219', 'claude-3-5-sonnet-20241022']...
2025-08-28T18:01:31.402196Z INFO     llm_iterative_session:_detect_best_anthropic_model:187 - ‚úÖ Selected best Opus model: claude-opus-4-1-20250805
2025-08-28T18:01:31.404178Z INFO     llm_iterative_session:_init_anthropic:435 - üéØ Selected model: claude-opus-4-1-20250805
2025-08-28T18:01:31.737599Z INFO     llm_iterative_session:__init__:124 - ü§ñ Iterative LLM Session initialized
2025-08-28T18:01:31.738292Z INFO     llm_iterative_session:__init__:125 -    Provider: anthropic
2025-08-28T18:01:31.738455Z INFO     llm_iterative_session:__init__:126 -    Model: claude-opus-4-1-20250805
2025-08-28T18:01:31.738611Z INFO     llm_iterative_session:__init__:127 -    Session: llm_session_20250828_180131
2025-08-28T18:01:31.738770Z INFO     llm_iterative_session:__init__:131 - üìä Model Capabilities:
2025-08-28T18:01:31.738946Z INFO     llm_iterative_session:__init__:132 -    Context Window: 200,000 tokens
2025-08-28T18:01:31.739035Z INFO     llm_iterative_session:__init__:133 -    Max Input: 200,000 tokens
2025-08-28T18:01:31.739207Z INFO     llm_iterative_session:__init__:134 -    Max Output: 4,096 tokens
2025-08-28T18:01:31.739422Z INFO     llm_iterative_session:__init__:136 -    Cost: $0.000015/input, $0.000075/output per token
2025-08-28T18:01:31.739515Z INFO     vrl_testing_loop_clean:run_automated_llm_generation:1249 - üí∞ Cost tracking: $0.000015/input token, $0.000075/output token
2025-08-28T18:01:31.739735Z INFO     llm_iterative_session:generate_initial_vrl:679 - üöÄ Starting VRL generation session (iteration 1)
2025-08-28T18:01:31.742212Z INFO     prompt_optimizer:_optimize_initial_configs:82 - Compressed vector_vrl_prompt: 19919 ‚Üí 18026 chars (9.5% reduction)
2025-08-28T18:01:31.742602Z INFO     prompt_optimizer:_optimize_initial_configs:101 - Compressed parser_prompts: 10690 ‚Üí 1988 chars (81.4% reduction)
2025-08-28T18:01:31.742755Z INFO     prompt_optimizer:_optimize_initial_configs:133 - Compressed type_maps: 2877 ‚Üí 2749 chars (4.4% reduction)
2025-08-28T18:01:31.743716Z DEBUG    llm_iterative_session:_save_conversation:1297 - üíæ Saved user message to .tmp/llm_sessions/llm_session_20250828_180131/iter1_user.txt
2025-08-28T18:01:31.743794Z INFO     llm_iterative_session:_call_llm:1022 - üì§ Calling anthropic API
2025-08-28T18:01:31.744150Z DEBUG    llm_iterative_session:_call_llm:1023 -    Prompt length: 30288 chars
